# ğŸ¤– AI CONTEXT CONFIGURATION - Tsunami

**Versione**: 1.0  
**Data**: 2025-01-21  
**Scopo**: Configurazione AI per Context Engineering ottimale  

---

## ğŸ¯ MANDATORY CONTEXT RETRIEVAL

### PRIMA DI OGNI RISPOSTA (MANDATORY)
```
ğŸ” STEP 1: RAG CONSULTATION (OBBLIGATORIO)
   âœ… Leggi CONTEXT_RAG.md sezioni rilevanti
   âœ… Identifica pattern applicabili
   âœ… Verifica problemi comuni noti
   âœ… Controlla best practices ADHD
   âŒ MAI rispondere senza consultare RAG

ğŸ” STEP 2: REAL-TIME VALIDATION
   âœ… Stack tecnologico corretto?
   âœ… Pattern esistenti rispettati?
   âœ… Integrazione store verificata?
   âœ… Tipi TypeScript coerenti?
   âœ… Confronta RAG con codice reale se necessario

ğŸ” STEP 3: ADHD OPTIMIZATION
   âœ… Cognitive load considerato?
   âœ… Energia/mood integrati?
   âœ… Archetipi supportati?
   âœ… AccessibilitÃ  garantita?

ğŸ” STEP 4: AUTO-UPDATE CHECK
   âœ… Nuovi pattern da documentare?
   âœ… Inconsistenze da correggere?
   âœ… Best practices da aggiornare?
   âœ… RAG da aggiornare post-risposta?

ğŸ” STEP 5: AUTO-REFERENCE LOADING (MANDATORY)
   âœ… Carica configurazione progetto automaticamente
   âœ… Identifica componente target della modifica
   âœ… Mostra checklist pre-modifica obbligatoria
   âœ… Verifica regole critiche specifiche
   âœ… Analizza impatto delle modifiche
```

---

## ğŸ”„ WORKFLOW AUTOMATICO

### ğŸš€ **SISTEMA COMPLETAMENTE AUTOMATIZZATO** - Vedi [WORKFLOW_AUTOMATION.md](./WORKFLOW_AUTOMATION.md)

#### âœ… **Auto-Attivazione**: Il sistema Ã¨ ora completamente automatico e non richiede interventi manuali

### Pre-Modifica Workflow (OBBLIGATORIO)

#### 1. Caricamento Automatico Riferimenti
```typescript
// Auto-carica configurazione e documentazione
const projectConfig = loadProjectConfiguration();
const criticalFiles = identifyCriticalFiles(targetComponent);
const modificationRules = getCriticalRules(targetComponent);
const adhdRoadmap = loadADHDImplementationRoadmap(); // MASTER plan
```

### Auto-Loading Riferimenti
- `CONTEXT_RAG.md` - Contesto tecnico completo
- `DEVELOPMENT_BEST_PRACTICES.md` - Best practices consolidate
- `WORKFLOW_AUTOMATION.md` - Sistema automazione completo
- `ADHD_IMPLEMENTATION_ROADMAP.md` - Piano consolidato 6 mesi (MASTER)
- TODO prioritizzati automaticamente

#### 2. Analisi Impatto
```markdown
**Componente Target**: [Nome componente]
**File Coinvolti**: [Lista file]
**Dipendenze**: [Componenti dipendenti]
**Rischio**: [Alto/Medio/Basso]
**Test Richiesti**: [Lista test necessari]
```

#### 3. **Checklist Pre-Modifica Automatica**
- âœ… **Roadmap Alignment**: Coerenza con ADHD_IMPLEMENTATION_ROADMAP.md
- âœ… **Sprint Integration**: Allineamento con sprint plan attuale
- âœ… **Props Consistency**: Interfacce verificate
- âœ… **State Management**: Dipendenze controllate  
- âœ… **Error Handling**: Gestione errori implementata
- âœ… **Type Safety**: Tipi TypeScript validati
- âœ… **ADHD UX**: Impatto cognitivo considerato (target 9.0/10)
- âœ… **Testing**: Test aggiunti per nuove funzionalitÃ 

#### 4. **Post-Modifica Workflow (AUTOMATICO)**
```markdown
ğŸ”„ Dopo ogni modifica approvata:
â”œâ”€â”€ ğŸ” Analisi automatica dell'impatto sulla documentazione
â”œâ”€â”€ ğŸ“ Aggiornamento intelligente dei file pertinenti
â”œâ”€â”€ âœ… Validazione coerenza e completezza
â”œâ”€â”€ ğŸ“Š Update automatico progress tracking
â”œâ”€â”€ ğŸ“‹ Aggiornamento TODO status se applicabile
â””â”€â”€ ğŸ“… Timestamp "Ultimo Aggiornamento" automatico
```

##### **File Auto-Aggiornati per Tipo di Modifica**
```markdown
ğŸ—ï¸ Architettura â†’ CONTEXT_RAG.md (componenti, flussi)
ğŸ“š Best Practices â†’ DEVELOPMENT_BEST_PRACTICES.md
ğŸš€ Features â†’ TSUNAMI_APPLICATION_DOCUMENTATION.md
ğŸ“‹ TODO â†’ Tutti i TODO files + DOCS_INDEX.md
ğŸ¯ Progress â†’ Progress files + CHANGELOG.md
```

#### 4. Pattern di Riferimento Automatici
```typescript
// Callback Pattern (Auto-applicato)
interface ComponentProps {
  onSuccess: (data: T) => void;
  onError: (error: Error) => void;
  onCancel?: () => void;
}

// Loading States (Auto-applicato)
const [isLoading, setIsLoading] = useState(false);
```

---

## ğŸ“‹ RESPONSE TEMPLATES

### Template: Nuova Feature
```markdown
## ğŸ¯ [FEATURE_NAME]

### Auto-Reference Analysis
- **Componente Target**: [da auto-reference]
- **Checklist Completata**: âœ… Tutti i punti verificati
- **Pattern Applicabile**: [da CONTEXT_RAG.md]
- **Integrazione Store**: [TaskStore/altro]
- **Impatto ADHD**: [cognitive load/energia/mood]

### Implementation Plan
1. **Tipi TypeScript** (src/types/)
2. **Componente React** (seguendo pattern esistenti)
3. **Integrazione Store** (Zustand pattern)
4. **Styling** (Tailwind + shadcn/ui)
5. **Testing** (manuale + integrazione)

### Code Implementation
[Codice basato su pattern RAG]

### ADHD Considerations
- **Cognitive Load**: [basso/medio/alto]
- **Energy Matching**: [supportato/non applicabile]
- **Archetype Integration**: [tutti/specifici]

### Next Steps
- [ ] Test con diversi archetipi
- [ ] Verifica accessibilitÃ 
- [ ] Aggiorna CONTEXT_RAG.md se nuovo pattern
```

### Template: Bug Fix
```markdown
## ğŸ› [BUG_DESCRIPTION]

### Root Cause (da RAG)
- **Problema Noto**: [sÃ¬/no - riferimento CONTEXT_RAG.md]
- **Pattern Violato**: [quale pattern non seguito]
- **Integrazione Compromessa**: [store/callback/altro]

### Solution (RAG-based)
[Soluzione basata su pattern consolidati]

### Prevention Update
- [ ] CONTEXT_RAG.md aggiornato
- [ ] Pattern rafforzato
- [ ] Quality gate migliorato
```

### Template: Code Review
```markdown
## ğŸ“ Code Review - [COMPONENT_NAME]

### RAG Compliance Check
- âœ…/âŒ **Architecture Pattern**: [pattern seguito]
- âœ…/âŒ **TypeScript Types**: [definiti in src/types/]
- âœ…/âŒ **Store Integration**: [Zustand pattern]
- âœ…/âŒ **ADHD Optimization**: [cognitive load considerato]
- âœ…/âŒ **Accessibility**: [keyboard nav + screen reader]

### Recommendations
[Suggerimenti basati su RAG]

### Quality Score: [X/10]
```

---

## ğŸ” CONTEXT SEARCH STRATEGY

### Priority Order
```
1. CONTEXT_RAG.md (PRIMARIO)
   - Cerca pattern esatti
   - Identifica problemi noti
   - Verifica best practices

2. Documentazione Specifica
   - LOCAL_CHATBOT.md per chatbot
   - src/types/README.md per tipi
   - src/utils/README.md per utility

3. Codice Esistente
   - Componenti simili
   - Store patterns
   - Utility functions

4. External Knowledge (ULTIMO RESORT)
   - Solo se non trovato in RAG
   - Sempre adattare al contesto Tsunami
```

### Search Keywords per Categoria
```typescript
const SEARCH_KEYWORDS = {
  chatbot: ['LocalChatBot', 'onActionSuggested', 'pattern matching', 'ADHD intent'],
  tasks: ['TaskStore', 'addTask', 'energy_required', 'task_type'],
  ui: ['shadcn', 'Tailwind', 'accessibility', 'cognitive load'],
  state: ['Zustand', 'persist', 'callback pattern'],
  adhd: ['archetype', 'energy', 'mood', 'focus mode', 'overwhelm'],
  architecture: ['pattern', 'integration', 'structure', 'best practice']
};
```

---

## ğŸ¯ QUALITY ENFORCEMENT

### Mandatory Checks
```typescript
// Pseudo-codice per quality gates
function validateResponse(response: string, context: RAGContext) {
  const checks = {
    // 1. RAG Consultation
    ragConsulted: response.includes('CONTEXT_RAG') || hasRAGReference(response),
    
    // 2. Pattern Compliance
    patternFollowed: validateArchitecturePattern(response, context),
    
    // 3. ADHD Optimization
    adhdConsidered: hasADHDConsiderations(response),
    
    // 4. TypeScript Types
    typesDefinition: hasTypeScriptTypes(response),
    
    // 5. Integration Verified
    integrationChecked: hasStoreIntegration(response)
  };
  
  return Object.values(checks).every(Boolean);
}
```

### Response Quality Metrics
```
ğŸ“Š MINIMUM REQUIREMENTS:
   - RAG Reference: MANDATORY
   - Pattern Compliance: 90%+
   - ADHD Considerations: 80%+
   - Code Completeness: 95%+
   - Documentation Update: When applicable

ğŸ“Š EXCELLENCE INDICATORS:
   - Proactive pattern improvement
   - Multiple ADHD aspects considered
   - Performance optimization included
   - Accessibility beyond minimum
```

---

## ğŸš€ ADVANCED CONTEXT TECHNIQUES

### Context Layering
```
ğŸ”„ LAYER 1: Immediate Context
   - Current file being modified
   - Related components
   - Direct dependencies

ğŸ”„ LAYER 2: Feature Context
   - Feature-specific patterns
   - Integration points
   - ADHD implications

ğŸ”„ LAYER 3: System Context
   - Overall architecture
   - Cross-cutting concerns
   - Performance implications

ğŸ”„ LAYER 4: Domain Context
   - ADHD research insights
   - Productivity best practices
   - Gamification principles
```

### Context Synthesis
```typescript
// Pseudo-codice per context synthesis
function synthesizeContext(query: string) {
  const contexts = {
    rag: extractRAGContext(query),
    code: extractCodeContext(query),
    adhd: extractADHDContext(query),
    architecture: extractArchitectureContext(query)
  };
  
  return {
    primary: contexts.rag, // Always primary
    supporting: [contexts.code, contexts.adhd, contexts.architecture],
    conflicts: identifyConflicts(contexts),
    recommendations: generateRecommendations(contexts)
  };
}
```

---

## ğŸ“š KNOWLEDGE BASE MAINTENANCE

### Auto-Update Triggers
```
ğŸ”„ WHEN TO UPDATE CONTEXT_RAG.md:
   - Nuovo pattern identificato (>2 usi)
   - Problema risolto non documentato
   - Best practice migliorata
   - Architettura evoluta
   - Performance optimization scoperta

ğŸ”„ UPDATE PROCESS:
   1. Identifica sezione RAG da aggiornare
   2. Documenta nuovo pattern/soluzione
   3. Aggiorna esempi di codice
   4. Verifica coerenza generale
   5. Testa con query comuni
```

### Knowledge Validation
```typescript
// Pseudo-codice per validation
function validateKnowledgeBase() {
  const validations = {
    // Coerenza interna
    consistency: checkInternalConsistency(),
    
    // Aggiornamento codice
    codeSync: validateCodeExamples(),
    
    // Completezza coverage
    coverage: checkFeatureCoverage(),
    
    // Accuratezza tecnica
    accuracy: validateTechnicalAccuracy()
  };
  
  return generateValidationReport(validations);
}
```

---

## ğŸ¯ PERFORMANCE OPTIMIZATION

### Context Caching
```typescript
// Pseudo-codice per caching
const contextCache = new Map<string, RAGContext>();

function getCachedContext(query: string): RAGContext | null {
  const cacheKey = generateCacheKey(query);
  return contextCache.get(cacheKey) || null;
}

function setCachedContext(query: string, context: RAGContext): void {
  const cacheKey = generateCacheKey(query);
  contextCache.set(cacheKey, context);
}
```

### Smart Context Loading
```
âš¡ OPTIMIZATION STRATEGIES:
   - Load only relevant RAG sections
   - Cache frequently accessed patterns
   - Preload common contexts
   - Lazy load detailed examples
   - Compress context for storage
```

---

## ğŸ”§ DEBUGGING & TROUBLESHOOTING

### Context Debug Mode
```typescript
// Debug output per troubleshooting
interface ContextDebugInfo {
  ragSectionsConsulted: string[];
  patternsIdentified: string[];
  adhdConsiderations: string[];
  qualityScore: number;
  recommendations: string[];
}

function debugContext(query: string): ContextDebugInfo {
  // Implementazione debug
}
```

### Common Issues & Solutions
```
âŒ ISSUE: Response non basata su RAG
âœ… SOLUTION: Forzare consultazione CONTEXT_RAG.md

âŒ ISSUE: Pattern non seguito
âœ… SOLUTION: Verificare sezione "Pattern Comuni" in RAG

âŒ ISSUE: ADHD non considerato
âœ… SOLUTION: Consultare sezioni "Design Principles ADHD"

âŒ ISSUE: Integrazione store mancante
âœ… SOLUTION: Seguire "Callback Pattern" in RAG
```

---

## ğŸ“Š SUCCESS METRICS

### Daily Metrics
```
ğŸ“ˆ TRACK DAILY:
   - % Responses con RAG reference
   - Pattern compliance score
   - ADHD considerations coverage
   - Code quality improvements
   - Documentation updates
```

### Weekly Analysis
```
ğŸ“ˆ ANALYZE WEEKLY:
   - Nuovi pattern emersi
   - Problemi ricorrenti
   - Quality gate effectiveness
   - Knowledge base gaps
   - Performance improvements
```

---

**ğŸ¯ Questa configurazione AI garantisce che ogni risposta sia informata dal RAG, coerente con l'architettura e ottimizzata per utenti ADHD. Il Context Engineering non Ã¨ opzionale - Ã¨ il fondamento della qualitÃ .**

**ğŸ’¡ Remember: Every response must be RAG-informed, pattern-compliant, and ADHD-optimized.**

---

## ğŸ”— INTEGRATION CON RAG AUTO-VALIDATOR

### Riferimento Sistema Validazione
- **File**: `RAG_AUTO_VALIDATOR.md`
- **Scopo**: Garantire coerenza automatica RAG-Codebase
- **Integrazione**: Workflow obbligatorio per ogni risposta

### Workflow Integrato
```
1. ğŸ“– Consulta CONTEXT_RAG.md (da AI_CONTEXT_CONFIG)
2. ğŸ” Valida coerenza real-time (da RAG_AUTO_VALIDATOR)
3. ğŸ’¡ Genera risposta basata su RAG
4. ğŸ”„ Aggiorna RAG se necessario (da RAG_AUTO_VALIDATOR)
5. âœ… Valida consistency post-risposta
```

### Quality Gates Unificati
- **Pre-Response**: RAG consultation + pattern validation
- **During-Response**: Real-time consistency check
- **Post-Response**: RAG update + documentation

**ğŸ¯ Questo sistema garantisce che ogni interazione migliori la knowledge base e mantenga la coerenza del progetto.**